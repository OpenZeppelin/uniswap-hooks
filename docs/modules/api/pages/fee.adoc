:github-icon: pass:[<svg class="icon"><use href="#github-icon"/></svg>]
:BaseDynamicFee: pass:normal[xref:fee.adoc#BaseDynamicFee[`BaseDynamicFee`]]
:BaseOverrideFee: pass:normal[xref:fee.adoc#BaseOverrideFee[`BaseOverrideFee`]]
:BaseDynamicAfterFee: pass:normal[xref:fee.adoc#BaseDynamicAfterFee[`BaseDynamicAfterFee`]]
:xref-BaseDynamicFee-_getFee-struct-PoolKey-: xref:fee.adoc#BaseDynamicFee-_getFee-struct-PoolKey-
:xref-BaseDynamicFee-_afterInitialize-address-struct-PoolKey-uint160-int24-: xref:fee.adoc#BaseDynamicFee-_afterInitialize-address-struct-PoolKey-uint160-int24-
:xref-BaseDynamicFee-_poke-struct-PoolKey-: xref:fee.adoc#BaseDynamicFee-_poke-struct-PoolKey-
:xref-BaseDynamicFee-getHookPermissions--: xref:fee.adoc#BaseDynamicFee-getHookPermissions--
:xref-BaseHook-_validateHookAddress-contract-BaseHook-: xref:base.adoc#BaseHook-_validateHookAddress-contract-BaseHook-
:xref-BaseHook-beforeInitialize-address-struct-PoolKey-uint160-: xref:base.adoc#BaseHook-beforeInitialize-address-struct-PoolKey-uint160-
:xref-BaseHook-_beforeInitialize-address-struct-PoolKey-uint160-: xref:base.adoc#BaseHook-_beforeInitialize-address-struct-PoolKey-uint160-
:xref-BaseHook-afterInitialize-address-struct-PoolKey-uint160-int24-: xref:base.adoc#BaseHook-afterInitialize-address-struct-PoolKey-uint160-int24-
:xref-BaseHook-beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-: xref:base.adoc#BaseHook-beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-
:xref-BaseHook-_beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-: xref:base.adoc#BaseHook-_beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-
:xref-BaseHook-beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-: xref:base.adoc#BaseHook-beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-
:xref-BaseHook-_beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-: xref:base.adoc#BaseHook-_beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-
:xref-BaseHook-afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-: xref:base.adoc#BaseHook-afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-
:xref-BaseHook-_afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-: xref:base.adoc#BaseHook-_afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-
:xref-BaseHook-afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-: xref:base.adoc#BaseHook-afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-
:xref-BaseHook-_afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-: xref:base.adoc#BaseHook-_afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-
:xref-BaseHook-beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-: xref:base.adoc#BaseHook-beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-
:xref-BaseHook-_beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-: xref:base.adoc#BaseHook-_beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-
:xref-BaseHook-afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-: xref:base.adoc#BaseHook-afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-
:xref-BaseHook-_afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-: xref:base.adoc#BaseHook-_afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-
:xref-BaseHook-beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-: xref:base.adoc#BaseHook-beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-
:xref-BaseHook-_beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-: xref:base.adoc#BaseHook-_beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-
:xref-BaseHook-afterDonate-address-struct-PoolKey-uint256-uint256-bytes-: xref:base.adoc#BaseHook-afterDonate-address-struct-PoolKey-uint256-uint256-bytes-
:xref-BaseHook-_afterDonate-address-struct-PoolKey-uint256-uint256-bytes-: xref:base.adoc#BaseHook-_afterDonate-address-struct-PoolKey-uint256-uint256-bytes-
:xref-BaseHook-poolManager-contract-IPoolManager: xref:base.adoc#BaseHook-poolManager-contract-IPoolManager
:xref-BaseDynamicFee-NotDynamicFee--: xref:fee.adoc#BaseDynamicFee-NotDynamicFee--
:xref-BaseHook-HookNotImplemented--: xref:base.adoc#BaseHook-HookNotImplemented--
:xref-BaseHook-NotPoolManager--: xref:base.adoc#BaseHook-NotPoolManager--
:xref-BaseOverrideFee-_afterInitialize-address-struct-PoolKey-uint160-int24-: xref:fee.adoc#BaseOverrideFee-_afterInitialize-address-struct-PoolKey-uint160-int24-
:xref-BaseOverrideFee-_getFee-address-struct-PoolKey-struct-SwapParams-bytes-: xref:fee.adoc#BaseOverrideFee-_getFee-address-struct-PoolKey-struct-SwapParams-bytes-
:xref-BaseOverrideFee-_beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-: xref:fee.adoc#BaseOverrideFee-_beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-
:xref-BaseOverrideFee-getHookPermissions--: xref:fee.adoc#BaseOverrideFee-getHookPermissions--
:xref-BaseHook-_validateHookAddress-contract-BaseHook-: xref:base.adoc#BaseHook-_validateHookAddress-contract-BaseHook-
:xref-BaseHook-beforeInitialize-address-struct-PoolKey-uint160-: xref:base.adoc#BaseHook-beforeInitialize-address-struct-PoolKey-uint160-
:xref-BaseHook-_beforeInitialize-address-struct-PoolKey-uint160-: xref:base.adoc#BaseHook-_beforeInitialize-address-struct-PoolKey-uint160-
:xref-BaseHook-afterInitialize-address-struct-PoolKey-uint160-int24-: xref:base.adoc#BaseHook-afterInitialize-address-struct-PoolKey-uint160-int24-
:xref-BaseHook-beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-: xref:base.adoc#BaseHook-beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-
:xref-BaseHook-_beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-: xref:base.adoc#BaseHook-_beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-
:xref-BaseHook-beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-: xref:base.adoc#BaseHook-beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-
:xref-BaseHook-_beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-: xref:base.adoc#BaseHook-_beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-
:xref-BaseHook-afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-: xref:base.adoc#BaseHook-afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-
:xref-BaseHook-_afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-: xref:base.adoc#BaseHook-_afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-
:xref-BaseHook-afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-: xref:base.adoc#BaseHook-afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-
:xref-BaseHook-_afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-: xref:base.adoc#BaseHook-_afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-
:xref-BaseHook-beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-: xref:base.adoc#BaseHook-beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-
:xref-BaseHook-afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-: xref:base.adoc#BaseHook-afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-
:xref-BaseHook-_afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-: xref:base.adoc#BaseHook-_afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-
:xref-BaseHook-beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-: xref:base.adoc#BaseHook-beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-
:xref-BaseHook-_beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-: xref:base.adoc#BaseHook-_beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-
:xref-BaseHook-afterDonate-address-struct-PoolKey-uint256-uint256-bytes-: xref:base.adoc#BaseHook-afterDonate-address-struct-PoolKey-uint256-uint256-bytes-
:xref-BaseHook-_afterDonate-address-struct-PoolKey-uint256-uint256-bytes-: xref:base.adoc#BaseHook-_afterDonate-address-struct-PoolKey-uint256-uint256-bytes-
:xref-BaseHook-poolManager-contract-IPoolManager: xref:base.adoc#BaseHook-poolManager-contract-IPoolManager
:xref-BaseOverrideFee-NotDynamicFee--: xref:fee.adoc#BaseOverrideFee-NotDynamicFee--
:xref-BaseHook-HookNotImplemented--: xref:base.adoc#BaseHook-HookNotImplemented--
:xref-BaseHook-NotPoolManager--: xref:base.adoc#BaseHook-NotPoolManager--
:xref-BaseDynamicAfterFee-_transientTargetUnspecifiedAmount--: xref:fee.adoc#BaseDynamicAfterFee-_transientTargetUnspecifiedAmount--
:xref-BaseDynamicAfterFee-_transientApplyTarget--: xref:fee.adoc#BaseDynamicAfterFee-_transientApplyTarget--
:xref-BaseDynamicAfterFee-_setTransientTargetUnspecifiedAmount-uint256-: xref:fee.adoc#BaseDynamicAfterFee-_setTransientTargetUnspecifiedAmount-uint256-
:xref-BaseDynamicAfterFee-_setTransientApplyTarget-bool-: xref:fee.adoc#BaseDynamicAfterFee-_setTransientApplyTarget-bool-
:xref-BaseDynamicAfterFee-_beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-: xref:fee.adoc#BaseDynamicAfterFee-_beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-
:xref-BaseDynamicAfterFee-_afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-: xref:fee.adoc#BaseDynamicAfterFee-_afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-
:xref-BaseDynamicAfterFee-_getTargetUnspecified-address-struct-PoolKey-struct-SwapParams-bytes-: xref:fee.adoc#BaseDynamicAfterFee-_getTargetUnspecified-address-struct-PoolKey-struct-SwapParams-bytes-
:xref-BaseDynamicAfterFee-_afterSwapHandler-struct-PoolKey-struct-SwapParams-BalanceDelta-uint256-uint256-: xref:fee.adoc#BaseDynamicAfterFee-_afterSwapHandler-struct-PoolKey-struct-SwapParams-BalanceDelta-uint256-uint256-
:xref-BaseDynamicAfterFee-getHookPermissions--: xref:fee.adoc#BaseDynamicAfterFee-getHookPermissions--
:xref-BaseHook-_validateHookAddress-contract-BaseHook-: xref:base.adoc#BaseHook-_validateHookAddress-contract-BaseHook-
:xref-BaseHook-beforeInitialize-address-struct-PoolKey-uint160-: xref:base.adoc#BaseHook-beforeInitialize-address-struct-PoolKey-uint160-
:xref-BaseHook-_beforeInitialize-address-struct-PoolKey-uint160-: xref:base.adoc#BaseHook-_beforeInitialize-address-struct-PoolKey-uint160-
:xref-BaseHook-afterInitialize-address-struct-PoolKey-uint160-int24-: xref:base.adoc#BaseHook-afterInitialize-address-struct-PoolKey-uint160-int24-
:xref-BaseHook-_afterInitialize-address-struct-PoolKey-uint160-int24-: xref:base.adoc#BaseHook-_afterInitialize-address-struct-PoolKey-uint160-int24-
:xref-BaseHook-beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-: xref:base.adoc#BaseHook-beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-
:xref-BaseHook-_beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-: xref:base.adoc#BaseHook-_beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-
:xref-BaseHook-beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-: xref:base.adoc#BaseHook-beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-
:xref-BaseHook-_beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-: xref:base.adoc#BaseHook-_beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-
:xref-BaseHook-afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-: xref:base.adoc#BaseHook-afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-
:xref-BaseHook-_afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-: xref:base.adoc#BaseHook-_afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-
:xref-BaseHook-afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-: xref:base.adoc#BaseHook-afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-
:xref-BaseHook-_afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-: xref:base.adoc#BaseHook-_afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-
:xref-BaseHook-beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-: xref:base.adoc#BaseHook-beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-
:xref-BaseHook-afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-: xref:base.adoc#BaseHook-afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-
:xref-BaseHook-beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-: xref:base.adoc#BaseHook-beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-
:xref-BaseHook-_beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-: xref:base.adoc#BaseHook-_beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-
:xref-BaseHook-afterDonate-address-struct-PoolKey-uint256-uint256-bytes-: xref:base.adoc#BaseHook-afterDonate-address-struct-PoolKey-uint256-uint256-bytes-
:xref-BaseHook-_afterDonate-address-struct-PoolKey-uint256-uint256-bytes-: xref:base.adoc#BaseHook-_afterDonate-address-struct-PoolKey-uint256-uint256-bytes-
:xref-BaseHook-poolManager-contract-IPoolManager: xref:base.adoc#BaseHook-poolManager-contract-IPoolManager
:xref-IHookEvents-HookSwap-bytes32-address-int128-int128-uint128-uint128-: xref:interfaces.adoc#IHookEvents-HookSwap-bytes32-address-int128-int128-uint128-uint128-
:xref-IHookEvents-HookFee-bytes32-address-uint128-uint128-: xref:interfaces.adoc#IHookEvents-HookFee-bytes32-address-uint128-uint128-
:xref-IHookEvents-HookModifyLiquidity-bytes32-address-int128-int128-: xref:interfaces.adoc#IHookEvents-HookModifyLiquidity-bytes32-address-int128-int128-
:xref-IHookEvents-HookBonus-bytes32-uint128-uint128-: xref:interfaces.adoc#IHookEvents-HookBonus-bytes32-uint128-uint128-
:xref-BaseHook-HookNotImplemented--: xref:base.adoc#BaseHook-HookNotImplemented--
:xref-BaseHook-NotPoolManager--: xref:base.adoc#BaseHook-NotPoolManager--
= Fee

[.readme-notice]
NOTE: This document is better viewed on the docs page.

Hooks for managing and customizing pool fees, including dynamic fee adjustments, fee overrides, and post-swap fee calculations.

 * {BaseDynamicFee}: Hook to apply a manual dynamic fee via the Uniswap's `PoolManager` contract.
 * {BaseOverrideFee}: Hook that overrides and applies a fee before swapping automatically.
 * {BaseDynamicAfterFee}: Hook that overrides and applies a fee based on a delta after swapping.

== Hooks

:NotDynamicFee: pass:normal[xref:#BaseDynamicFee-NotDynamicFee--[`++NotDynamicFee++`]]
:_getFee: pass:normal[xref:#BaseDynamicFee-_getFee-struct-PoolKey-[`++_getFee++`]]
:_afterInitialize: pass:normal[xref:#BaseDynamicFee-_afterInitialize-address-struct-PoolKey-uint160-int24-[`++_afterInitialize++`]]
:_poke: pass:normal[xref:#BaseDynamicFee-_poke-struct-PoolKey-[`++_poke++`]]
:getHookPermissions: pass:normal[xref:#BaseDynamicFee-getHookPermissions--[`++getHookPermissions++`]]

[.contract]
[[BaseDynamicFee]]
=== `++BaseDynamicFee++` link:https://github.com/OpenZeppelin/uniswap-hooks/blob/master/src/fee/BaseDynamicFee.sol[{github-icon},role=heading-link]

[.hljs-theme-light.nopadding]
```solidity
import "uniswap-hooks/src/fee/BaseDynamicFee.sol";
```

Base implementation to apply a dynamic fee via the `PoolManager`'s `updateDynamicLPFee` function.

WARNING: This is experimental software and is provided on an "as is" and "as available" basis. We do
not give any warranties and will not be liable for any losses incurred through any use of this code
base.

_Available since v0.1.0_

[.contract-index]
.Functions
--
* {xref-BaseDynamicFee-_getFee-struct-PoolKey-}[`++_getFee(key)++`]
* {xref-BaseDynamicFee-_afterInitialize-address-struct-PoolKey-uint160-int24-}[`++_afterInitialize(, key, , )++`]
* {xref-BaseDynamicFee-_poke-struct-PoolKey-}[`++_poke(key)++`]
* {xref-BaseDynamicFee-getHookPermissions--}[`++getHookPermissions()++`]

[.contract-subindex-inherited]
.BaseHook
* {xref-BaseHook-_validateHookAddress-contract-BaseHook-}[`++_validateHookAddress(hook)++`]
* {xref-BaseHook-beforeInitialize-address-struct-PoolKey-uint160-}[`++beforeInitialize(sender, key, sqrtPriceX96)++`]
* {xref-BaseHook-_beforeInitialize-address-struct-PoolKey-uint160-}[`++_beforeInitialize(, , )++`]
* {xref-BaseHook-afterInitialize-address-struct-PoolKey-uint160-int24-}[`++afterInitialize(sender, key, sqrtPriceX96, tick)++`]
* {xref-BaseHook-beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-}[`++beforeAddLiquidity(sender, key, params, hookData)++`]
* {xref-BaseHook-_beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-}[`++_beforeAddLiquidity(, , , )++`]
* {xref-BaseHook-beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-}[`++beforeRemoveLiquidity(sender, key, params, hookData)++`]
* {xref-BaseHook-_beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-}[`++_beforeRemoveLiquidity(, , , )++`]
* {xref-BaseHook-afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-}[`++afterAddLiquidity(sender, key, params, delta0, delta1, hookData)++`]
* {xref-BaseHook-_afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-}[`++_afterAddLiquidity(, , , , , )++`]
* {xref-BaseHook-afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-}[`++afterRemoveLiquidity(sender, key, params, delta0, delta1, hookData)++`]
* {xref-BaseHook-_afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-}[`++_afterRemoveLiquidity(, , , , , )++`]
* {xref-BaseHook-beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-}[`++beforeSwap(sender, key, params, hookData)++`]
* {xref-BaseHook-_beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-}[`++_beforeSwap(, , , )++`]
* {xref-BaseHook-afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-}[`++afterSwap(sender, key, params, delta, hookData)++`]
* {xref-BaseHook-_afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-}[`++_afterSwap(, , , , )++`]
* {xref-BaseHook-beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-}[`++beforeDonate(sender, key, amount0, amount1, hookData)++`]
* {xref-BaseHook-_beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-}[`++_beforeDonate(, , , , )++`]
* {xref-BaseHook-afterDonate-address-struct-PoolKey-uint256-uint256-bytes-}[`++afterDonate(sender, key, amount0, amount1, hookData)++`]
* {xref-BaseHook-_afterDonate-address-struct-PoolKey-uint256-uint256-bytes-}[`++_afterDonate(, , , , )++`]
* {xref-BaseHook-poolManager-contract-IPoolManager}[`++poolManager()++`]

[.contract-subindex-inherited]
.IHooks

--

[.contract-index]
.Errors
--
* {xref-BaseDynamicFee-NotDynamicFee--}[`++NotDynamicFee()++`]

[.contract-subindex-inherited]
.BaseHook
* {xref-BaseHook-HookNotImplemented--}[`++HookNotImplemented()++`]
* {xref-BaseHook-NotPoolManager--}[`++NotPoolManager()++`]

[.contract-subindex-inherited]
.IHooks

--

[.contract-item]
[[BaseDynamicFee-_getFee-struct-PoolKey-]]
==== `[.contract-item-name]#++_getFee++#++(struct PoolKey key) → uint24++` [.item-kind]#internal#

Returns a fee, denominated in hundredths of a bip, to be applied to the pool after it is initialized.

[.contract-item]
[[BaseDynamicFee-_afterInitialize-address-struct-PoolKey-uint160-int24-]]
==== `[.contract-item-name]#++_afterInitialize++#++(address, struct PoolKey key, uint160, int24) → bytes4++` [.item-kind]#internal#

Set the fee after the pool is initialized.

[.contract-item]
[[BaseDynamicFee-_poke-struct-PoolKey-]]
==== `[.contract-item-name]#++_poke++#++(struct PoolKey key)++` [.item-kind]#internal#

Updates the dynamic LP fee for the given pool

NOTE: It can be called internally at any point in the pool's lifecycle to update the fee
given the current market conditions. Alternatively, it can be wrapped and exposed publicly
to be externally called by an authorized party. If exposed, it must be properly protected
and access control is recommended.

[.contract-item]
[[BaseDynamicFee-getHookPermissions--]]
==== `[.contract-item-name]#++getHookPermissions++#++() → struct Hooks.Permissions permissions++` [.item-kind]#public#

Set the hook permissions, specifically `afterInitialize`.

[.contract-item]
[[BaseDynamicFee-NotDynamicFee--]]
==== `[.contract-item-name]#++NotDynamicFee++#++()++` [.item-kind]#error#

The hook was attempted to be initialized with a non-dynamic fee.

:NotDynamicFee: pass:normal[xref:#BaseOverrideFee-NotDynamicFee--[`++NotDynamicFee++`]]
:_afterInitialize: pass:normal[xref:#BaseOverrideFee-_afterInitialize-address-struct-PoolKey-uint160-int24-[`++_afterInitialize++`]]
:_getFee: pass:normal[xref:#BaseOverrideFee-_getFee-address-struct-PoolKey-struct-SwapParams-bytes-[`++_getFee++`]]
:_beforeSwap: pass:normal[xref:#BaseOverrideFee-_beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-[`++_beforeSwap++`]]
:getHookPermissions: pass:normal[xref:#BaseOverrideFee-getHookPermissions--[`++getHookPermissions++`]]

[.contract]
[[BaseOverrideFee]]
=== `++BaseOverrideFee++` link:https://github.com/OpenZeppelin/uniswap-hooks/blob/master/src/fee/BaseOverrideFee.sol[{github-icon},role=heading-link]

[.hljs-theme-light.nopadding]
```solidity
import "uniswap-hooks/src/fee/BaseOverrideFee.sol";
```

Base implementation for automatic dynamic fees applied before swaps.

WARNING: This is experimental software and is provided on an "as is" and "as available" basis. We do
not give any warranties and will not be liable for any losses incurred through any use of this code
base.

_Available since v0.1.0_

[.contract-index]
.Functions
--
* {xref-BaseOverrideFee-_afterInitialize-address-struct-PoolKey-uint160-int24-}[`++_afterInitialize(, key, , )++`]
* {xref-BaseOverrideFee-_getFee-address-struct-PoolKey-struct-SwapParams-bytes-}[`++_getFee(sender, key, params, hookData)++`]
* {xref-BaseOverrideFee-_beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-}[`++_beforeSwap(sender, key, params, hookData)++`]
* {xref-BaseOverrideFee-getHookPermissions--}[`++getHookPermissions()++`]

[.contract-subindex-inherited]
.BaseHook
* {xref-BaseHook-_validateHookAddress-contract-BaseHook-}[`++_validateHookAddress(hook)++`]
* {xref-BaseHook-beforeInitialize-address-struct-PoolKey-uint160-}[`++beforeInitialize(sender, key, sqrtPriceX96)++`]
* {xref-BaseHook-_beforeInitialize-address-struct-PoolKey-uint160-}[`++_beforeInitialize(, , )++`]
* {xref-BaseHook-afterInitialize-address-struct-PoolKey-uint160-int24-}[`++afterInitialize(sender, key, sqrtPriceX96, tick)++`]
* {xref-BaseHook-beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-}[`++beforeAddLiquidity(sender, key, params, hookData)++`]
* {xref-BaseHook-_beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-}[`++_beforeAddLiquidity(, , , )++`]
* {xref-BaseHook-beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-}[`++beforeRemoveLiquidity(sender, key, params, hookData)++`]
* {xref-BaseHook-_beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-}[`++_beforeRemoveLiquidity(, , , )++`]
* {xref-BaseHook-afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-}[`++afterAddLiquidity(sender, key, params, delta0, delta1, hookData)++`]
* {xref-BaseHook-_afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-}[`++_afterAddLiquidity(, , , , , )++`]
* {xref-BaseHook-afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-}[`++afterRemoveLiquidity(sender, key, params, delta0, delta1, hookData)++`]
* {xref-BaseHook-_afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-}[`++_afterRemoveLiquidity(, , , , , )++`]
* {xref-BaseHook-beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-}[`++beforeSwap(sender, key, params, hookData)++`]
* {xref-BaseHook-afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-}[`++afterSwap(sender, key, params, delta, hookData)++`]
* {xref-BaseHook-_afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-}[`++_afterSwap(, , , , )++`]
* {xref-BaseHook-beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-}[`++beforeDonate(sender, key, amount0, amount1, hookData)++`]
* {xref-BaseHook-_beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-}[`++_beforeDonate(, , , , )++`]
* {xref-BaseHook-afterDonate-address-struct-PoolKey-uint256-uint256-bytes-}[`++afterDonate(sender, key, amount0, amount1, hookData)++`]
* {xref-BaseHook-_afterDonate-address-struct-PoolKey-uint256-uint256-bytes-}[`++_afterDonate(, , , , )++`]
* {xref-BaseHook-poolManager-contract-IPoolManager}[`++poolManager()++`]

[.contract-subindex-inherited]
.IHooks

--

[.contract-index]
.Errors
--
* {xref-BaseOverrideFee-NotDynamicFee--}[`++NotDynamicFee()++`]

[.contract-subindex-inherited]
.BaseHook
* {xref-BaseHook-HookNotImplemented--}[`++HookNotImplemented()++`]
* {xref-BaseHook-NotPoolManager--}[`++NotPoolManager()++`]

[.contract-subindex-inherited]
.IHooks

--

[.contract-item]
[[BaseOverrideFee-_afterInitialize-address-struct-PoolKey-uint160-int24-]]
==== `[.contract-item-name]#++_afterInitialize++#++(address, struct PoolKey key, uint160, int24) → bytes4++` [.item-kind]#internal#

Check that the pool key has a dynamic fee.

[.contract-item]
[[BaseOverrideFee-_getFee-address-struct-PoolKey-struct-SwapParams-bytes-]]
==== `[.contract-item-name]#++_getFee++#++(address sender, struct PoolKey key, struct SwapParams params, bytes hookData) → uint24++` [.item-kind]#internal#

Returns a fee, denominated in hundredths of a bip, to be applied to a swap.

[.contract-item]
[[BaseOverrideFee-_beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-]]
==== `[.contract-item-name]#++_beforeSwap++#++(address sender, struct PoolKey key, struct SwapParams params, bytes hookData) → bytes4, BeforeSwapDelta, uint24++` [.item-kind]#internal#

Set the fee before the swap is processed using the override fee flag.

[.contract-item]
[[BaseOverrideFee-getHookPermissions--]]
==== `[.contract-item-name]#++getHookPermissions++#++() → struct Hooks.Permissions permissions++` [.item-kind]#public#

Set the hook permissions, specifically `afterInitialize` and `beforeSwap`.

[.contract-item]
[[BaseOverrideFee-NotDynamicFee--]]
==== `[.contract-item-name]#++NotDynamicFee++#++()++` [.item-kind]#error#

The hook was attempted to be initialized with a non-dynamic fee.

:_transientTargetUnspecifiedAmount: pass:normal[xref:#BaseDynamicAfterFee-_transientTargetUnspecifiedAmount--[`++_transientTargetUnspecifiedAmount++`]]
:_transientApplyTarget: pass:normal[xref:#BaseDynamicAfterFee-_transientApplyTarget--[`++_transientApplyTarget++`]]
:_setTransientTargetUnspecifiedAmount: pass:normal[xref:#BaseDynamicAfterFee-_setTransientTargetUnspecifiedAmount-uint256-[`++_setTransientTargetUnspecifiedAmount++`]]
:_setTransientApplyTarget: pass:normal[xref:#BaseDynamicAfterFee-_setTransientApplyTarget-bool-[`++_setTransientApplyTarget++`]]
:_beforeSwap: pass:normal[xref:#BaseDynamicAfterFee-_beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-[`++_beforeSwap++`]]
:_afterSwap: pass:normal[xref:#BaseDynamicAfterFee-_afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-[`++_afterSwap++`]]
:_getTargetUnspecified: pass:normal[xref:#BaseDynamicAfterFee-_getTargetUnspecified-address-struct-PoolKey-struct-SwapParams-bytes-[`++_getTargetUnspecified++`]]
:_afterSwapHandler: pass:normal[xref:#BaseDynamicAfterFee-_afterSwapHandler-struct-PoolKey-struct-SwapParams-BalanceDelta-uint256-uint256-[`++_afterSwapHandler++`]]
:getHookPermissions: pass:normal[xref:#BaseDynamicAfterFee-getHookPermissions--[`++getHookPermissions++`]]

[.contract]
[[BaseDynamicAfterFee]]
=== `++BaseDynamicAfterFee++` link:https://github.com/OpenZeppelin/uniswap-hooks/blob/master/src/fee/BaseDynamicAfterFee.sol[{github-icon},role=heading-link]

[.hljs-theme-light.nopadding]
```solidity
import "uniswap-hooks/src/fee/BaseDynamicAfterFee.sol";
```

Base implementation for dynamic target hook fees applied after swaps.

Enables to enforce a dynamic target determined by {_getTargetUnspecified} for the unspecified currency of the swap
during {_beforeSwap}, where if the swap outcome results better than the target, any positive difference is taken
as a hook fee, being posteriorily handled or distributed by the hook via {_afterSwapHandler}.

NOTE: In order to use this hook, the inheriting contract must implement {_getTargetUnspecified} to determine the target,
and {_afterSwapHandler} to handle accumulated fees.

WARNING: This is experimental software and is provided on an "as is" and "as available" basis. We do
not give any warranties and will not be liable for any losses incurred through any use of this code
base.

_Available since v0.1.0_

[.contract-index]
.Functions
--
* {xref-BaseDynamicAfterFee-_transientTargetUnspecifiedAmount--}[`++_transientTargetUnspecifiedAmount()++`]
* {xref-BaseDynamicAfterFee-_transientApplyTarget--}[`++_transientApplyTarget()++`]
* {xref-BaseDynamicAfterFee-_setTransientTargetUnspecifiedAmount-uint256-}[`++_setTransientTargetUnspecifiedAmount(value)++`]
* {xref-BaseDynamicAfterFee-_setTransientApplyTarget-bool-}[`++_setTransientApplyTarget(value)++`]
* {xref-BaseDynamicAfterFee-_beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-}[`++_beforeSwap(sender, key, params, hookData)++`]
* {xref-BaseDynamicAfterFee-_afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-}[`++_afterSwap(sender, key, params, delta, )++`]
* {xref-BaseDynamicAfterFee-_getTargetUnspecified-address-struct-PoolKey-struct-SwapParams-bytes-}[`++_getTargetUnspecified(sender, key, params, hookData)++`]
* {xref-BaseDynamicAfterFee-_afterSwapHandler-struct-PoolKey-struct-SwapParams-BalanceDelta-uint256-uint256-}[`++_afterSwapHandler(key, params, delta, targetUnspecifiedAmount, feeAmount)++`]
* {xref-BaseDynamicAfterFee-getHookPermissions--}[`++getHookPermissions()++`]

[.contract-subindex-inherited]
.IHookEvents

[.contract-subindex-inherited]
.BaseHook
* {xref-BaseHook-_validateHookAddress-contract-BaseHook-}[`++_validateHookAddress(hook)++`]
* {xref-BaseHook-beforeInitialize-address-struct-PoolKey-uint160-}[`++beforeInitialize(sender, key, sqrtPriceX96)++`]
* {xref-BaseHook-_beforeInitialize-address-struct-PoolKey-uint160-}[`++_beforeInitialize(, , )++`]
* {xref-BaseHook-afterInitialize-address-struct-PoolKey-uint160-int24-}[`++afterInitialize(sender, key, sqrtPriceX96, tick)++`]
* {xref-BaseHook-_afterInitialize-address-struct-PoolKey-uint160-int24-}[`++_afterInitialize(, , , )++`]
* {xref-BaseHook-beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-}[`++beforeAddLiquidity(sender, key, params, hookData)++`]
* {xref-BaseHook-_beforeAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-}[`++_beforeAddLiquidity(, , , )++`]
* {xref-BaseHook-beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-}[`++beforeRemoveLiquidity(sender, key, params, hookData)++`]
* {xref-BaseHook-_beforeRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-bytes-}[`++_beforeRemoveLiquidity(, , , )++`]
* {xref-BaseHook-afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-}[`++afterAddLiquidity(sender, key, params, delta0, delta1, hookData)++`]
* {xref-BaseHook-_afterAddLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-}[`++_afterAddLiquidity(, , , , , )++`]
* {xref-BaseHook-afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-}[`++afterRemoveLiquidity(sender, key, params, delta0, delta1, hookData)++`]
* {xref-BaseHook-_afterRemoveLiquidity-address-struct-PoolKey-struct-ModifyLiquidityParams-BalanceDelta-BalanceDelta-bytes-}[`++_afterRemoveLiquidity(, , , , , )++`]
* {xref-BaseHook-beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-}[`++beforeSwap(sender, key, params, hookData)++`]
* {xref-BaseHook-afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-}[`++afterSwap(sender, key, params, delta, hookData)++`]
* {xref-BaseHook-beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-}[`++beforeDonate(sender, key, amount0, amount1, hookData)++`]
* {xref-BaseHook-_beforeDonate-address-struct-PoolKey-uint256-uint256-bytes-}[`++_beforeDonate(, , , , )++`]
* {xref-BaseHook-afterDonate-address-struct-PoolKey-uint256-uint256-bytes-}[`++afterDonate(sender, key, amount0, amount1, hookData)++`]
* {xref-BaseHook-_afterDonate-address-struct-PoolKey-uint256-uint256-bytes-}[`++_afterDonate(, , , , )++`]
* {xref-BaseHook-poolManager-contract-IPoolManager}[`++poolManager()++`]

[.contract-subindex-inherited]
.IHooks

--

[.contract-index]
.Events
--

[.contract-subindex-inherited]
.IHookEvents
* {xref-IHookEvents-HookSwap-bytes32-address-int128-int128-uint128-uint128-}[`++HookSwap(poolId, sender, amount0, amount1, hookLPfeeAmount0, hookLPfeeAmount1)++`]
* {xref-IHookEvents-HookFee-bytes32-address-uint128-uint128-}[`++HookFee(poolId, sender, feeAmount0, feeAmount1)++`]
* {xref-IHookEvents-HookModifyLiquidity-bytes32-address-int128-int128-}[`++HookModifyLiquidity(poolId, sender, amount0, amount1)++`]
* {xref-IHookEvents-HookBonus-bytes32-uint128-uint128-}[`++HookBonus(poolId, amount0, amount1)++`]

[.contract-subindex-inherited]
.BaseHook

[.contract-subindex-inherited]
.IHooks

--

[.contract-index]
.Errors
--

[.contract-subindex-inherited]
.IHookEvents

[.contract-subindex-inherited]
.BaseHook
* {xref-BaseHook-HookNotImplemented--}[`++HookNotImplemented()++`]
* {xref-BaseHook-NotPoolManager--}[`++NotPoolManager()++`]

[.contract-subindex-inherited]
.IHooks

--

[.contract-item]
[[BaseDynamicAfterFee-_transientTargetUnspecifiedAmount--]]
==== `[.contract-item-name]#++_transientTargetUnspecifiedAmount++#++() → uint256++` [.item-kind]#internal#

The target unspecified amount to be enforced by the `afterSwap` hook.

[.contract-item]
[[BaseDynamicAfterFee-_transientApplyTarget--]]
==== `[.contract-item-name]#++_transientApplyTarget++#++() → bool++` [.item-kind]#internal#

Whether the target unspecified amount should be enforced by the `afterSwap` hook.

[.contract-item]
[[BaseDynamicAfterFee-_setTransientTargetUnspecifiedAmount-uint256-]]
==== `[.contract-item-name]#++_setTransientTargetUnspecifiedAmount++#++(uint256 value)++` [.item-kind]#internal#

Set the target unspecified amount to be enforced by the `afterSwap` hook.

[.contract-item]
[[BaseDynamicAfterFee-_setTransientApplyTarget-bool-]]
==== `[.contract-item-name]#++_setTransientApplyTarget++#++(bool value)++` [.item-kind]#internal#

Set the apply flag to be used in the `afterSwap` hook.

[.contract-item]
[[BaseDynamicAfterFee-_beforeSwap-address-struct-PoolKey-struct-SwapParams-bytes-]]
==== `[.contract-item-name]#++_beforeSwap++#++(address sender, struct PoolKey key, struct SwapParams params, bytes hookData) → bytes4, BeforeSwapDelta, uint24++` [.item-kind]#internal#

Sets the target unspecified amount and apply flag to be used in the `afterSwap` hook.

NOTE: The target unspecified amount and the apply flag are reset in the `afterSwap` hook.

[.contract-item]
[[BaseDynamicAfterFee-_afterSwap-address-struct-PoolKey-struct-SwapParams-BalanceDelta-bytes-]]
==== `[.contract-item-name]#++_afterSwap++#++(address sender, struct PoolKey key, struct SwapParams params, BalanceDelta delta, bytes) → bytes4, int128++` [.item-kind]#internal#

Enforce the target unspecified amount to the unspecified currency of the swap.

When the swap is `exactInput` and the unspecified target is surpassed, the difference is decreased from the
output as a hook fee. Accordingly, when the swap is `exactOutput` and the unspecified target is not reached, the
difference is increased to the input as a hook fee. Note that the fee is always applied to the unspecified
currency of the swap, regardless of the swap direction.

The fees are minted to this hook as ERC-6909 tokens, which can then be distributed in {_afterSwapHandler}

NOTE: The target unspecified amount and the apply flag are reset on purpose to avoid state overlapping across swaps.

[.contract-item]
[[BaseDynamicAfterFee-_getTargetUnspecified-address-struct-PoolKey-struct-SwapParams-bytes-]]
==== `[.contract-item-name]#++_getTargetUnspecified++#++(address sender, struct PoolKey key, struct SwapParams params, bytes hookData) → uint256 targetUnspecifiedAmount, bool applyTarget++` [.item-kind]#internal#

Return the target unspecified amount to be enforced by the `afterSwap` hook.

[.contract-item]
[[BaseDynamicAfterFee-_afterSwapHandler-struct-PoolKey-struct-SwapParams-BalanceDelta-uint256-uint256-]]
==== `[.contract-item-name]#++_afterSwapHandler++#++(struct PoolKey key, struct SwapParams params, BalanceDelta delta, uint256 targetUnspecifiedAmount, uint256 feeAmount)++` [.item-kind]#internal#

Customizable handler called after `_afterSwap` to handle or distribute the fees.

[.contract-item]
[[BaseDynamicAfterFee-getHookPermissions--]]
==== `[.contract-item-name]#++getHookPermissions++#++() → struct Hooks.Permissions permissions++` [.item-kind]#public#

Set the hook permissions, specifically {beforeSwap}, {afterSwap} and {afterSwapReturnDelta}.

